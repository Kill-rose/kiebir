========== ========== ========== ==========
     トリミングプラグイン
========== ========== ========== ==========

【最終更新日】2021/12/14 17:00
【  名  称  】トリミングプラグイン
【  種  別  】ティラノスクリプト用の外部プラグイン
【 製 作 者 】おぎはら
【 開発環境 】ティラノスクリプトv511d, Windows 10, Google Chrome 96
【 動作環境 】上記開発環境にて確認
【 連 絡 先 】https://twitter.com/ogihara88sai
【ライセンス】MIT

---------- ----------



◇ 概要 ◇

このプラグインは、ティラノスクリプトに『トリミング』機能を実装するものです。
このプラグインを導入すると、
[trim storage="rouka.jpg" trim=10,10,200,200 draw=20,20,30,40]
とか記述することで、トリミング（およびその拡縮）を行うことができるようになります。

プラグインを導入することで使えるようになるタグは、
・[trim]
・[def_trim]
・[reset_def_trim]
の3つです。


◇ ファイル構成 ◇

manpu
 ├ init.ks
 ├ trim.js
 ├ _SAMPLE.ks
 └ _README.txt



◇ 導入方法 ◇

解凍して出てきた「trim」フォルダを、
「data/others/plugin/」下にコピーしてください。
その後、first.ksに以下のタグを記述してください。

    [plugin name=trim]



◇ pluginタグに指定できるパラメータ ◇

-



◇ タグリファレンス ◇

◆ [trim] 画像のトリミング表示
    
    || 概要
    
    画像を矩形に切り取って表示します。
    このタグは、たとえば次のように記述します。
    
    [trim storage=chara/akane/normal.png trim=90,20,240,240 draw=20,20]
    
    この例では、fgimageフォルダ内のchara/akane/normal.pngファイルが元画像になります。
    元画像の一番左上から右下に向かって（90,20）ピクセルの位置をトリミングの開始位置として、
    そこから右下に向かって縦横240pxの大きさで切り抜き、トリミング面とします。
    それをゲーム画面の左上から（20,20）ピクセルの座標に原寸大で描画しています。
    
    || 指定できるパラメータ
    
    trim      : どこを切り抜くか。元画像においてトリミングしたい面の左上のx座標、y座標、
                横幅、高さ（すべてピクセル）をカンマで区切って書きます。
                横幅と高さは省略することもできます。
    draw      : 切り抜いた画像をどこに描くか。ゲーム画面において描画したい面の左上のx座標、y座標、
                横幅、高さ（すべてピクセル）をカンマで区切って書きます。
                横幅と高さは省略することもできます。
    storage   : 切り替え後の背景画像を指定する。
    folder    : 背景画像を探すフォルダ。デフォルトは「bgimage」。
    ext       : 背景画像の拡張子名。後述する[def_bg_tile]タグでこれを設定しておけば、
                storageに拡張子を書く必要がなくなります。
    time      : ひとつのタイルがフェードし始めてから完全にフェードするまでの時間（ミリ秒）。
                デフォルトは「1000」。
    wait      : 描画の完了を待機するかどうか。true/false
    preload   : プリロードを行うかどうか。デフォルトは「true」。true/false
    layer     : 描画するレイヤー。
    page      : 描画するレイヤーの裏表。fore/back
    zindex    : zindexを指定できます。
    opacity   : 不透明度を0～255で指定できます。
    radius    : トリミング後の画像の角を丸くすることができます。
                その丸みの半径を「px」または「%」をつけて指定します。
                たとえば「radius=10px」「radius=50%」など。
    color     : トリミング後の画像の背景色をHTML5の形式で指定します。



◆ [def_trim] デフォルト値の設定
    
    || 概要
    
    デフォルト設定を書き換えるタグです。
    毎回同じ設定を[trim]タグに描いていると、見た目が長くなるばかりか、変更も大変になります。
    その対策にお使いください。
    
    || 指定できるパラメータ
    
    [trim]で指定できるすべてのパラメータ    : それをデフォルト値にします。



◆ [reset_def_trim] デフォルト値のリセット
    
    || 概要
    
    [def_trim]タグであれこれデフォルト設定を変えたあと、またもとに戻すのは大変です。
    そこで、一発でデフォルト設定を〝デフォルト設定のデフォルト設定〟に戻すというタグがこれです。
    [def_trim]タグとセットでお使いください。
    
    || 指定できるパラメータ
    
    ありません。



◇ FAQ・既知のバグ等 ◇

-



◇ 履歴 ◇

2021/12/14 ティラノスクリプトV5用に見直し
2018/01/30 アップデート
2017/05/04 配布開始
